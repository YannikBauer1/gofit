import{_ as f}from"./CDpEqQqG.js";import{u as g,G as v,r as c,e as y,L as p,c as t,a as s,g as x,M as i,t as d,d as b,N as h,o as r}from"./BI50-cdB.js";import{c as w}from"./jDoFrVe_.js";const _={class:"min-h-screen bg-gray-50 flex items-center justify-center"},k={class:"max-w-md w-full bg-white rounded-lg shadow-md p-8"},C={class:"text-center"},j={key:0,class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-blue-100 mb-6"},I={key:1,class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-6"},E={key:2,class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-6"},M={class:"text-xl font-semibold text-gray-800 mb-3"},N={class:"text-gray-600 mb-6"},A={key:3,class:"mb-6"},B={key:4,class:"mb-6"},P={key:5,class:"mb-6"},q={class:"text-sm text-red-600"},Y={__name:"confirmation",setup(L){g({title:"Email Confirmation - IronInsights"});const n=v();if(!n.public.supabaseApiUrl||!n.public.supabaseApiKey)throw new Error("Supabase environment variables are not configured. Please check your .env file.");w(n.public.supabaseApiUrl,n.public.supabaseApiKey);const m=p();h();const o=c("loading"),a=c("Please wait while we confirm your email..."),l=c("");return y(async()=>{const u=m.query.code;if(console.log("Confirmation code received:",u),console.log("Full route query:",m.query),!u){o.value="error",a.value="Invalid confirmation link",l.value="No confirmation code provided. Please check your email for the correct link. Or maybe you already confirmed your email.";return}try{o.value="success",a.value="Your email has been confirmed successfully!"}catch(e){console.error("Email confirmation error:",e),o.value="error",a.value="Confirmation failed",l.value=e.message||"An error occurred while confirming your email. Please try again."}}),(u,e)=>(r(),t("div",_,[s("div",k,[s("div",C,[e[6]||(e[6]=x('<div class="flex justify-center mb-4"><div class="rounded-xl flex items-center justify-center shadow-lg"><img src="'+f+'" alt="Iron Insights Logo" class="w-16 h-16 rounded-lg"></div></div><h1 class="text-3xl font-bold text-gray-900 mb-2">Iron Insights</h1><p class="text-sm text-gray-500 mb-8">Email Confirmation</p>',3)),o.value==="loading"?(r(),t("div",j,e[0]||(e[0]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):i("",!0),o.value==="success"?(r(),t("div",I,e[1]||(e[1]=[s("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]))):i("",!0),o.value==="error"?(r(),t("div",E,e[2]||(e[2]=[s("svg",{class:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):i("",!0),s("h2",M,d(o.value==="success"?"Email Confirmed!":o.value==="error"?"Something went wrong":"Confirming Email..."),1),s("p",N,d(a.value),1),o.value==="loading"?(r(),t("div",A,e[3]||(e[3]=[s("p",{class:"text-sm text-gray-500"},"Processing your confirmation...",-1)]))):i("",!0),o.value==="success"?(r(),t("div",B,e[4]||(e[4]=[s("p",{class:"text-sm text-green-600"}," Your email has been successfully confirmed. You can now sign in to your account. ",-1)]))):i("",!0),o.value==="error"?(r(),t("div",P,[s("p",q,d(l.value),1),e[5]||(e[5]=s("p",{class:"text-xs text-gray-500 mt-2"},[b(" If you continue to have issues, please contact support or try requesting a new confirmation email. "),s("a",{href:"mailto:main@iron-insights.com"},"main@iron-insights.com")],-1))])):i("",!0)])])]))}};export{Y as default};
